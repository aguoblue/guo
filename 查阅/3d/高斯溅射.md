3D 高斯溅射（3D Gaussian Splatting）是一种计算机图形学中的技术，用于生成和渲染三维点云数据。该技术的核心是利用高斯分布函数来表示点云中的每一个点，并通过这些高斯分布的叠加来构建一个连续的三维模型。这种方法能够有效地处理点云数据的稀疏性和不规则性，适用于实时渲染和复杂的三维场景重建。


### 主要步骤

1. **点云数据获取**：通过激光扫描、深度摄像头等设备获取三维点云数据。
    
2. **高斯分布表示**：将点云中的每一个点用一个高斯分布函数来表示。高斯分布函数的参数（如均值和协方差矩阵）由点的位置和局部几何特征决定。
    
3. **溅射（Splatting）**：将高斯分布函数投影到图像平面上，通过叠加多个高斯分布函数生成连续的三维模型。这一步通常包括对高斯分布进行加权平均，以确保生成的模型光滑且连续。
    
4. **渲染**：使用适当的渲染算法（如光线追踪或体绘制技术）将生成的三维模型渲染为图像。
    

### 应用

- **实时渲染**：高斯溅射技术能够高效地处理和渲染大规模点云数据，适用于虚拟现实和增强现实等实时应用场景。
- **三维重建**：利用高斯分布的连续性和光滑性，可以构建精细且准确的三维模型，适用于逆向工程和文物保护等领域。
- **数据可视化**：高斯溅射能够直观地展示点云数据的局部几何结构和全局分布，适用于科学计算和数据分析。

### 优点

- **处理稀疏数据**：高斯分布函数可以自然地处理点云数据的稀疏性，生成连续的三维模型。
- **光滑过渡**：通过加权平均高斯分布，可以实现模型表面光滑过渡，避免了传统三角网格模型中的锐边问题。
- **实时性**：由于高斯分布函数的数学性质，高斯溅射技术在计算效率上有优势，适用于实时渲染。

### 缺点

- **计算复杂度**：尽管高斯溅射在处理稀疏数据时有优势，但在高分辨率点云数据下，计算量仍然较大。
- **参数选择**：高斯分布函数的参数选择（如协方差矩阵）直接影响最终模型的质量，需要仔细调试。

3D 高斯溅射是一种强大且灵活的技术，在点云数据处理和三维模型构建中具有广泛的应用前景。



## 1、3D高斯泼溅原理
3D 高斯泼溅的核心是一种光栅化技术。
- 有描述场景的数据。
- 在屏幕上绘制数据。
- 类似于计算机图形学中的三角形光栅化，用于在屏幕上绘制许多三角形
- 然而，它不是三角形，而是高斯分布。 这是一个栅格化的高斯函数，为了清晰起见，绘制了边框
高斯泼溅由以下参数描述：
- 位置：它所在的位置 (XYZ)
- 协方差：如何拉伸/缩放（3x3 矩阵）
- 颜色：它是什么颜色（RGB）
- Alpha：透明度如何 (α)

3D高斯泼溅的实现原理分为一下几个部分：
- 运动结构恢复：利用SfM得到点云
- 点云转高斯分布
- 模型训练
- 光栅化

### 1.1 运动结构恢复

第一步是使用运动结构恢复 (SfM: Structure from Motion) 方法从一组图像中估计点云。 这是一种从一组 2D 图像估计 3D 点云的方法。 这可以通过 COLMAP 库来完成。
### 1.2 转换为高斯分布

接下来，每个点都转换为高斯分布。 这对于光栅化来说已经足够了。 然而，只能从 SfM 数据推断位置和颜色。 为了学习产生高质量结果的表示，我们需要对其进行训练。
### 1.3 模型训练

训练过程使用随机梯度下降，类似于神经网络，但没有层。 训练步骤为：
- 使用可微分高斯光栅化将高斯光栅化为图像（稍后详细介绍）
- 根据光栅化图像和地面真实图像之间的差异计算损失
- 根据损失调整高斯参数
- 应用自动致密化和修剪

步骤 1-3 从概念上讲非常简单。 第 4 步涉及以下内容：

- 如果对于给定的高斯梯度很大（即它太错误），则分割/克隆它
- 如果高斯很小，则克隆它
- 如果高斯很大，则将其分割
- 如果高斯的 alpha 太低，请将其删除

此过程有助于高斯更好地拟合细粒度细节，同时修剪不必要的高斯。
### 1.4 可微分高斯光栅化
如前所述，3D 高斯分布是一种光栅化方法，它将数据绘制到屏幕上。 然而，一些重要的元素还包括：
- 快速
- 可微分
光栅化器的原始实现可以在[这里](https://link.zhihu.com/?target=https%3A//github.com/graphdeco-inria/diff-gaussian-rasterization)找到。 光栅化涉及：
- 从相机角度将每个高斯投影为 2D。
- 按深度对高斯进行排序。
- 对于每个像素，从前到后迭代每个高斯，将它们混合在一起。
这篇[论文](https://link.zhihu.com/?target=https%3A//huggingface.co/papers/2308.04079)中描述了其他优化。
光栅化器是可微分的也很重要，这样就可以用随机梯度下降来训练它。 然而，这仅与训练相关 - 训练有素的高斯也可以用不可微的方法呈现。


球协函数