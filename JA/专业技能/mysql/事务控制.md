

事务
	介绍
	commit
	rollback
	四大特性ACID
	并发情况下
		脏读
		不可重复读
		幻读
![[Pasted image 20240330155312.png]]
存储引擎

![[Pasted image 20240328183944.png]]

> 3-29

索引
	是数据结构
	[Data Structure Visualization (usfca.edu)](https://www.cs.usfca.edu/~galles/visualization/Algorithms.html)
	b tree
	b+tree
	Hash
	主键索引
	唯一约束
	常规约束
	全文索引
	innoDB
		聚集索引
		二级索引
	创建索引
		单列索引
		多列索引
		唯一索引
			唯一索引不仅加快了数据的检索速度，还确保了索引列中的数据具有唯一性
	性能分析
		查看执行频次
		查看慢查询日志
		show profile
			查看每一条sql的执行时间
		explain执行计划
			根据type
		最左前缀法则
			跳跃某一列，索引后面字段失效
			范围查询，右边失效
		索引列上运算操作，索引失效
		字符串类型不加单引号，索引失效
			隐式类型转换，因为数据库需要对列中的每个值进行转换，然后才能执行比较。这意味着数据库可能无法利用索引进行快速查找，而是退回到全表扫描，从而影响查询性能。
		like 尾部模糊查询，索引有效，头部模糊查询，索引失效
		or连接的条件，有一侧没索引，也会失效
		如果mysql评估使用索引比全表更慢，则不使用索引，走全表扫描
		使用sql提示来引导mysql选择某个索引或者忽略某个索引
		覆盖索引
			如果一个索引包含了查询所需的所有字段，那么这个索引就被称为覆盖索引。换句话说，数据库可以仅通过索引来获取查询所需的数据，而无需回表查询原始数据行
			1. **减少磁盘I/O**：由于查询可以直接在索引上完成，数据库不需要访问数据表中的实际行，减少了磁盘I/O操作。
			2. **提高查询效率**：索引通常比数据表小很多，且存储在B-Tree结构中，这使得搜索更快。
			3. **减少锁竞争**：对于InnoDB这样的行级锁数据库，使用覆盖索引可以减少对数据行的锁请求，因为查询不需要访问数据行。
		前缀索引
			适合长字符串和文本
		单列索引&联合索引
- 创建索引可以提高查询效率，但也会增加写操作（INSERT、UPDATE、DELETE）的开销，因为MySQL需要维护索引数据结构。
- 创建过多的索引可能会占用更多的磁盘空间，并可能影响写操作的性能。
- 索引设计应该基于实际的查询需求，避免不必要的索引。

